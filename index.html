<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Terminology Deep Dive</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">

    <style>
        /* Base styles and custom properties */
        :root {
            --bg-color: #0a0a0a;
            --card-bg: rgba(24, 24, 27, 0.7);
            --border-color: rgba(255, 255, 255, 0.1);
            --gradient-start: #3b82f6; /* Tailwind blue-500 */
            --gradient-end: #8b5cf6;   /* Tailwind violet-500 */
        }

        /* Applying the font and background */
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(ellipse at top, rgba(13, 22, 59, 0.4), transparent 60%);
            color: #f1f5f9; /* slate-100 */
        }

        /* Gradient text utility */
        .text-gradient {
            background-image: linear-gradient(to right, var(--gradient-start), var(--gradient-end));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Card styles with hover effect wrapper */
        .card-container {
            position: relative;
            padding: 1px;
            border-radius: 1rem; /* 16px */
            overflow: hidden;
            transition: transform 0.3s ease-in-out;
        }

        .card-container:hover {
            transform: translateY(-5px);
        }

        /* Conic gradient border animation */
        .card-container::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 250%;
            height: 250%;
            background: conic-gradient(
                from 180deg at 50% 50%,
                transparent 0deg,
                var(--gradient-start) 90deg,
                var(--gradient-end) 180deg,
                transparent 270deg,
                transparent 360deg
            );
            transform: translate(-50%, -50%);
            animation: rotate-border 6s linear infinite;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            z-index: 0;
        }

        .card-container:hover::before {
            opacity: 1;
        }

        @keyframes rotate-border {
            from {
                transform: translate(-50%, -50%) rotate(0deg);
            }
            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        /* The actual card content that sits on top of the border */
        .card-content {
            position: relative;
            background-color: var(--card-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px); /* For Safari */
            border-radius: calc(1rem - 1px);
            height: 100%;
            padding: 1.5rem; /* p-6 */
            z-index: 1;
        }

        /* Firing animation for weights card */
        .firing {
            animation: fire-glow 1.5s ease-in-out infinite;
        }

        @keyframes fire-glow {
            0%, 100% { box-shadow: 0 0 10px #facc15, 0 0 20px #facc15, 0 0 30px #f59e0b; } /* yellow-400, amber-500 */
            50% { box-shadow: 0 0 20px #facc15, 0 0 40px #facc15, 0 0 60px #f59e0b; }
        }

        /* Typewriter cursor effect */
        .typewriter-text {
            border-right: 0.15em solid var(--gradient-start);
            white-space: pre-wrap;
            animation: typing 2s steps(40, end), blink-caret .75s step-end infinite;
            overflow: hidden;
            width: 0;
        }
        
        @keyframes typing {
          from { width: 0 }
          to { width: 100% }
        }

        @keyframes blink-caret {
          from, to { border-color: transparent }
          50% { border-color: var(--gradient-start); }
        }

        /* Highlight for attention mechanism */
        .attention-highlight {
            background-color: rgba(59, 130, 246, 0.4);
            border-radius: 4px;
            padding: 2px 4px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        /* Animated SVG path for various diagrams */
        .flow-line {
            stroke-dasharray: 8;
            animation: dash-flow 10s linear infinite;
        }
        @keyframes dash-flow {
            to {
                stroke-dashoffset: -1000;
            }
        }
        
        /* Data pulse for Neural Network */
        .data-pulse {
            animation: pulse-flow 3s ease-out infinite;
            opacity: 0;
        }
        @keyframes pulse-flow {
            0% { opacity: 0; }
            40% { opacity: 1; }
            80% { opacity: 0; }
            100% { opacity: 0; }
        }

        /* Fine-tuning animation */
        .fine-tune-focus {
            transition: all 0.5s ease-in-out;
        }
        .fine-tune-focus.focused {
            stroke-width: 3;
            stroke: #22c55e; /* emerald-500 */
        }
        
        /* RLHF animation */
        .rlhf-word {
            transition: all 0.2s ease-in-out;
        }
        .rlhf-reward {
            animation: reward-glow 0.5s ease-in-out;
        }
        .rlhf-punish {
             animation: punish-glow 0.5s ease-in-out;
        }
        @keyframes reward-glow {
            from { background-color: rgba(34, 197, 94, 0.7); }
            to { background-color: transparent; }
        }
        @keyframes punish-glow {
            from { background-color: rgba(239, 68, 68, 0.7); }
            to { background-color: transparent; }
        }

        /* Overfitting lines */
        .overfit-line {
            transition: opacity 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-black text-slate-100 min-h-screen antialiased">

    <!-- MAIN CONTAINER -->
    <div class="container mx-auto px-4 py-8 md:py-16">
        
        <!-- HEADER -->
        <header class="text-center mb-12 md:mb-16">
            <h1 class="text-4xl md:text-6xl font-black tracking-tighter text-gradient mb-3">AI Terminology Deep Dive</h1>
            <p class="text-lg md:text-xl text-slate-400 max-w-3xl mx-auto">An interactive guide to the core concepts behind Artificial Intelligence.</p>
        </header>

        <!-- GRID OF CARDS -->
        <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">

            <!-- Card: RLHF -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">RLHF</h2>
                    <div class="flex-grow space-y-4">
                        <p class="text-slate-300 text-sm">Reinforcement Learning from Human Feedback. AI learns by being "rewarded" for good responses.</p>
                        <div class="bg-slate-900/30 p-3 rounded-lg text-sm">
                            <p id="rlhf-sentence">Is this response <span class="rlhf-word">helpful</span> or <span class="rlhf-word">vague</span>?</p>
                        </div>
                        <div class="flex gap-4">
                            <button data-word="helpful" class="rlhf-btn w-full py-2 bg-green-600/80 hover:bg-green-500/80 rounded-lg transition-colors">üëç Helpful</button>
                            <button data-word="vague" class="rlhf-btn w-full py-2 bg-red-600/80 hover:bg-red-500/80 rounded-lg transition-colors">üëé Vague</button>
                        </div>
                    </div>
                    <button data-term="rlhf" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card: Overfitting -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Overfitting</h2>
                    <div class="flex-grow">
                        <p class="text-slate-300 text-sm mb-4">When a model learns training data too well, memorizing noise instead of the trend.</p>
                        <svg class="w-full h-40 bg-slate-900/30 rounded-lg" viewBox="0 0 100 50">
                            <!-- Data Points -->
                            <circle cx="10" cy="20" r="1.5" fill="#e2e8f0"/>
                            <circle cx="25" cy="15" r="1.5" fill="#e2e8f0"/>
                            <circle cx="40" cy="25" r="1.5" fill="#e2e8f0"/>
                            <circle cx="55" cy="20" r="1.5" fill="#e2e8f0"/>
                            <circle cx="70" cy="35" r="1.5" fill="#e2e8f0"/>
                            <circle cx="85" cy="30" r="1.5" fill="#e2e8f0"/>
                            <!-- Lines -->
                            <path id="good-fit-line" class="overfit-line" d="M 5,22 C 30,10 60,35 95,30" stroke="#22c55e" stroke-width="1.5" fill="none" opacity="1"/>
                            <path id="overfit-line" class="overfit-line" d="M 10,20 L 25,15 L 40,25 L 55,20 L 70,35 L 85,30" stroke="#ef4444" stroke-width="1" fill="none" opacity="0"/>
                        </svg>
                        <div class="flex gap-2 mt-3">
                            <button data-show="good-fit-line" class="overfit-btn flex-1 text-sm bg-green-600/80 hover:bg-green-500/80 py-2 rounded-lg transition-colors">Good Fit</button>
                            <button data-show="overfit-line" class="overfit-btn flex-1 text-sm bg-red-600/80 hover:bg-red-500/80 py-2 rounded-lg transition-colors">Overfit</button>
                        </div>
                    </div>
                    <button data-term="overfitting" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card: Multimodality -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Multimodality</h2>
                    <div class="flex-grow flex flex-col">
                        <div>
                            <p class="text-slate-300 text-sm mb-4">An AI that understands and processes multiple types of data at once.</p>
                            <svg class="w-full h-32" viewBox="0 0 100 80">
                                <!-- Inputs -->
                                <text x="15" y="20" font-size="12">üñºÔ∏è</text>
                                <text x="15" y="65" font-size="12">üìù</text>
                                <text x="45" y="20" font-size="12">üéµ</text>
                                <!-- AI Brain -->
                                <g id="multi-brain" class="transition-transform duration-300">
                                    <path d="M50,42 C40,52 60,52 50,62 M50,42 C35,37 30,52 40,59 M50,42 C65,37 70,52 60,59" fill="none" stroke="var(--gradient-end)" stroke-width="1.5" stroke-linecap="round"/>
                                </g>
                                <!-- Pulses -->
                                <circle class="data-pulse" cx="20" cy="25" r="2" fill="#f1f5f9" style="animation-delay: -0.5s"></circle>
                                <circle class="data-pulse" cx="20" cy="60" r="2" fill="#f1f5f9" style="animation-delay: -1.0s"></circle>
                                <circle class="data-pulse" cx="50" cy="25" r="2" fill="#f1f5f9" style="animation-delay: -1.5s"></circle>
                                <!-- Output -->
                                <text id="multi-output" x="85" y="55" font-size="12" class="transition-opacity opacity-0 duration-500">üìä</text>
                            </svg>
                        </div>
                        <button id="multimodal-btn" class="mt-auto w-full text-sm bg-blue-600/80 hover:bg-blue-500/80 py-2 rounded-lg transition-colors">Process</button>
                    </div>
                    <button data-term="multimodality" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>
            
            <!-- Card: AGI -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">AGI</h2>
                    <div class="flex-grow">
                        <p class="text-slate-300 text-sm mb-4">Artificial General Intelligence: the hypothetical goal of human-like reasoning.</p>
                         <div class="flex justify-between items-center text-slate-400 text-xs">
                             <span>Narrow AI</span>
                             <span>AGI</span>
                         </div>
                         <input id="agi-slider" type="range" min="0" max="1" step="0.01" value="0.1" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer my-2">
                         <div class="flex justify-between items-center text-2xl h-12">
                             <div class="flex gap-2">
                                 <span>‚ôüÔ∏è</span>
                                 <span>üßÆ</span>
                                 <span>üó£Ô∏è</span>
                             </div>
                             <div>
                                <span id="agi-brain" class="transition-all duration-300" style="filter: drop-shadow(0 0 0px #fff);">üß†</span>
                             </div>
                         </div>
                    </div>
                    <button data-term="agi" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card: Neural Network -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Neural Network</h2>
                    <div class="flex-grow">
                        <p class="text-slate-300 text-sm mb-4">The brain of AI, composed of interconnected layers of "neurons."</p>
                        <svg class="w-full h-full" viewBox="0 0 100 80">
                            <!-- Layers -->
                            <text x="10" y="8" font-size="5" fill="#f1f5f9" text-anchor="middle">Input</text>
                            <circle cx="10" cy="20" r="4" fill="#3b82f6"/>
                            <circle cx="10" cy="40" r="4" fill="#3b82f6"/>
                            <circle cx="10" cy="60" r="4" fill="#3b82f6"/>
                            
                            <text x="50" y="8" font-size="5" fill="#f1f5f9" text-anchor="middle">Hidden</text>
                            <circle cx="50" cy="15" r="4" fill="#a855f7"/>
                            <circle cx="50" cy="30" r="4" fill="#a855f7"/>
                            <circle cx="50" cy="50" r="4" fill="#a855f7"/>
                            <circle cx="50" cy="65" r="4" fill="#a855f7"/>

                            <text x="90" y="8" font-size="5" fill="#f1f5f9" text-anchor="middle">Output</text>
                            <circle cx="90" cy="30" r="4" fill="#facc15"/>
                            <circle cx="90" cy="50" r="4" fill="#facc15"/>
                            
                            <!-- Connections -->
                            <path d="M10 20 H 50 M10 40 H 50 M10 60 H 50" stroke="#475569" stroke-width="0.5" fill="none"/>
                            <path d="M50 15 H 90 M50 30 H 90 M50 50 H 90 M50 65 H 90" stroke="#475569" stroke-width="0.5" fill="none"/>

                            <!-- Data Pulses -->
                            <circle class="data-pulse" cx="10" cy="40" r="2.5" fill="#f1f5f9" style="animation-delay: 0s;"></circle>
                            <circle class="data-pulse" cx="50" cy="30" r="2.5" fill="#f1f5f9" style="animation-delay: 1s;"></circle>
                            <circle class="data-pulse" cx="90" cy="50" r="2.5" fill="#f1f5f9" style="animation-delay: 2s;"></circle>
                        </svg>
                    </div>
                    <button data-term="neural-network" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card: LLM -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">LLM</h2>
                    <div class="flex-grow">
                        <p class="text-slate-300 text-sm mb-4">Large Language Models are massive networks trained on internet-scale text.</p>
                        <svg class="w-full h-full" viewBox="0 0 100 80">
                             <!-- Brain Icon -->
                            <path d="M50,15 C25,15 25,40 50,40 C75,40 75,15 50,15 M50,40 C40,60 60,60 50,70 M50,40 C30,30 20,50 35,65 M50,40 C70,30 80,50 65,65" fill="none" stroke="var(--gradient-end)" stroke-width="2" stroke-linecap="round"/>
                            <!-- Data Sources -->
                            <text x="15" y="25" font-size="8" fill-opacity="0.7">üìö</text>
                            <text x="15" y="65" font-size="8" fill-opacity="0.7">üíª</text>
                            <text x="85" y="25" font-size="8" fill-opacity="0.7">üåê</text>
                            <text x="85" y="65" font-size="8" fill-opacity="0.7">üß¨</text>
                             <!-- Lines to Brain -->
                            <path class="flow-line" d="M22 28 L 45 38" stroke="#475569" stroke-width="0.5" fill="none" style="animation-delay: -1s;"/>
                            <path class="flow-line" d="M22 62 L 40 45" stroke="#475569" stroke-width="0.5" fill="none" style="animation-delay: -3s;"/>
                            <path class="flow-line" d="M78 28 L 55 38" stroke="#475569" stroke-width="0.5" fill="none" style="animation-delay: -5s;"/>
                            <path class="flow-line" d="M78 62 L 60 45" stroke="#475569" stroke-width="0.5" fill="none" style="animation-delay: -7s;"/>
                        </svg>
                    </div>
                    <button data-term="llm" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card: Fine-Tuning -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Fine-Tuning</h2>
                    <div class="flex-grow flex flex-col">
                        <div>
                            <p class="text-slate-300 text-sm mb-4">Specializing a general model on a narrow dataset to make it an expert.</p>
                            <svg class="w-full h-32" viewBox="0 0 100 80">
                                <!-- General Model -->
                                 <circle cx="30" cy="40" r="20" fill="none" stroke-width="2" stroke="var(--gradient-start)"/>
                                 <text x="30" y="43" font-size="6" text-anchor="middle" fill="#f1f5f9">General</text>
                                 <!-- Arrow -->
                                 <path d="M55 40 L 70 40" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrow-sm)"/>
                                 <!-- Focused Model -->
                                 <circle id="fine-tune-circle" cx="80" cy="40" r="10" fill="none" stroke-width="2" stroke="var(--gradient-end)" class="fine-tune-focus"/>
                                 <text x="80" y="43" font-size="6" text-anchor="middle" fill="#f1f5f9">Expert</text>
                                 <defs>
                                    <marker id="arrow-sm" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse">
                                         <path d="M 0 0 L 10 5 L 0 10 z" fill="#94a3b8" />
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        <button id="fine-tune-btn" class="mt-auto w-full text-sm bg-blue-600/80 hover:bg-blue-500/80 py-2 rounded-lg transition-colors">Make Expert</button>
                    </div>
                    <button data-term="fine-tuning" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card: Generative AI -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Generative AI</h2>
                    <div class="flex-grow flex flex-col">
                        <div>
                            <p class="text-slate-300 text-sm mb-4">AI that creates new content, from text and images to music and code.</p>
                            <svg class="w-full h-32" viewBox="0 0 100 80">
                               <text x="50" y="20" font-size="6" text-anchor="middle" fill="#94a3b8">Prompt</text>
                               <rect x="30" y="25" width="40" height="10" rx="3" fill="#1e293b"/>
                               <!-- Arrows -->
                               <path d="M 50 35 V 45 L 25 55" fill="none" stroke="#475569" stroke-width="1"/>
                               <path d="M 50 35 V 50" fill="none" stroke="#475569" stroke-width="1"/>
                               <path d="M 50 35 V 45 L 75 55" fill="none" stroke="#475569" stroke-width="1"/>
                               <!-- Outputs -->
                               <g id="gen-outputs" class="transition-opacity duration-500 opacity-0">
                                    <text x="25" y="70" font-size="10" text-anchor="middle">üñºÔ∏è</text>
                                    <text x="50" y="70" font-size="10" text-anchor="middle">üéµ</text>
                                    <text x="75" y="70" font-size="10" text-anchor="middle">üìù</text>
                               </g>
                            </svg>
                        </div>
                        <button id="generate-ai-btn" class="mt-auto w-full text-sm bg-blue-600/80 hover:bg-blue-500/80 py-2 rounded-lg transition-colors">Generate</button>
                    </div>
                    <button data-term="generative-ai" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>
            
            <!-- Card: Bias -->
             <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Bias</h2>
                    <div class="flex-grow space-y-4">
                        <p class="text-slate-300 text-sm">AI models can inherit and amplify human biases from their training data.</p>
                        <div class="bg-slate-900/30 p-4 rounded-lg text-center text-sm">
                            <p>An AI is trained on historical data where 90% of programmers are male. If you ask it to "Show me a picture of a programmer," what is the likely outcome?</p>
                        </div>
                        <div id="bias-feedback" class="text-center font-bold h-6"></div>
                        <div class="flex flex-col gap-2">
                            <button data-correct="false" class="bias-btn w-full text-sm py-2 bg-slate-600/80 hover:bg-slate-500/80 rounded-lg transition-all">A balanced mix of genders</button>
                            <button data-correct="true" class="bias-btn w-full text-sm py-2 bg-slate-600/80 hover:bg-slate-500/80 rounded-lg transition-all">An image of a man</button>
                        </div>
                        <p id="bias-explanation" class="text-xs text-slate-400 min-h-[40px]"></p>
                    </div>
                    <button data-term="bias" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card 1: Tokens -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Tokens</h2>
                    <div class="flex-grow space-y-4">
                        <p class="text-slate-300 text-sm">AI models see text as 'tokens'. Type a sentence to see how it's tokenized.</p>
                        <input id="token-input" type="text" class="w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none" value="The quick brown fox jumps over the lazy dog.">
                        <div id="token-output" class="flex flex-wrap gap-2"></div>
                    </div>
                    <button data-term="tokens" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card 2: Weights -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Weights</h2>
                     <div class="flex-grow space-y-3">
                        <p class="text-slate-300 text-sm">Weights determine the strength of connections in a neural network. Adjust them to see the effect.</p>
                        <div class="relative h-24 my-4">
                            <!-- Diagram SVG -->
                            <svg class="w-full h-full" viewBox="0 0 100 50">
                                <line id="weight-line-1" x1="10" y1="10" x2="90" y2="25" stroke="#60a5fa" stroke-width="2" />
                                <line id="weight-line-2" x1="10" y1="40" x2="90" y2="25" stroke="#c084fc" stroke-width="2" />
                                <circle cx="10" cy="10" r="4" fill="#60a5fa" />
                                <circle cx="10" cy="40" r="4" fill="#c084fc" />
                                <circle id="output-neuron" cx="90" cy="25" r="8" fill="#facc15" fill-opacity="0.5" class="transition-all duration-300" />
                            </svg>
                        </div>
                         <!-- Sliders -->
                        <div>
                             <label for="weight-slider-1" class="text-xs text-blue-300">Input 1 Strength</label>
                             <input id="weight-slider-1" type="range" min="0" max="1" step="0.01" value="0.5" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer">
                        </div>
                        <div>
                             <label for="weight-slider-2" class="text-xs text-violet-300">Input 2 Strength</label>
                             <input id="weight-slider-2" type="range" min="0" max="1" step="0.01" value="0.5" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer">
                        </div>
                         <p class="text-center text-sm mt-2">Output Activation: <span id="activation-value" class="font-bold text-yellow-300">0.50</span></p>
                    </div>
                    <button data-term="weights" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card 3: Embeddings -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Embeddings</h2>
                    <div class="flex-grow space-y-3">
                        <p class="text-slate-300 text-sm">Words are converted to numerical vectors. Relationships can be found with math.</p>
                        <!-- Embeddings Plot SVG -->
                        <div class="w-full h-40 bg-slate-900/30 rounded-lg p-2 relative">
                             <svg id="embedding-svg" class="w-full h-full" viewBox="0 0 100 100">
                                <!-- Axes -->
                                <line x1="10" y1="95" x2="90" y2="95" stroke-width="0.5" stroke="#475569"/>
                                <line x1="10" y1="5" x2="10" y2="95" stroke-width="0.5" stroke="#475569"/>
                                <!-- Points -->
                                <circle id="king" cx="25" cy="25" r="3" fill="#3b82f6"/>
                                <text x="25" y="20" font-size="5" fill="#f1f5f9" text-anchor="middle">King</text>
                                <circle id="man" cx="25" cy="75" r="3" fill="#3b82f6"/>
                                <text x="25" y="85" font-size="5" fill="#f1f5f9" text-anchor="middle">Man</text>
                                <circle id="woman" cx="75" cy="75" r="3" fill="#a855f7"/>
                                <text x="75" y="85" font-size="5" fill="#f1f5f9" text-anchor="middle">Woman</text>
                                <circle id="queen" cx="35" cy="35" r="3" fill="#a855f7" class="transition-all duration-1000 ease-in-out"/>
                                <text id="queen-text" x="35" y="30" font-size="5" fill="#f1f5f9" text-anchor="middle" class="transition-all duration-1000 ease-in-out">?</text>
                                 <!-- Vector Arrows (hidden initially) -->
                                <path id="vec-king-man" d="M 25 25 L 25 75" stroke="#ef4444" stroke-width="1" stroke-dasharray="2" marker-end="url(#arrow)" opacity="0"/>
                                <path id="vec-woman-queen" d="M 75 75 L 75 25" stroke="#22c55e" stroke-width="1" stroke-dasharray="2" marker-end="url(#arrow)" opacity="0"/>
                                <defs>
                                    <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="3" markerHeight="3" orient="auto-start-reverse">
                                        <path d="M 0 0 L 10 5 L 0 10 z" fill="currentColor" />
                                    </marker>
                                </defs>
                            </svg>
                        </div>
                        <div class="flex gap-2">
                             <button id="show-analogy-btn" class="flex-1 text-sm bg-blue-600/80 hover:bg-blue-500/80 py-2 rounded-lg transition-colors">Show Analogy</button>
                             <button id="reset-analogy-btn" class="flex-1 text-sm bg-slate-600/80 hover:bg-slate-500/80 py-2 rounded-lg transition-colors">Reset</button>
                        </div>
                    </div>
                    <button data-term="embeddings" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card 4: Hallucinations -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Hallucinations</h2>
                    <div class="flex-grow space-y-4">
                        <p class="text-slate-300 text-sm">AIs can confidently state falsehoods. Can you spot one?</p>
                        <div class="bg-slate-900/30 p-4 rounded-lg text-center">
                            <p id="fact-statement">"The first animal in space was a dog named Laika, launched by the USA in 1957."</p>
                        </div>
                        <div id="fact-feedback" class="text-center font-bold h-6"></div>
                        <div class="flex gap-4">
                            <button id="fact-btn" class="w-full py-2 bg-green-600/80 hover:bg-green-500/80 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed">Fact</button>
                            <button id="fiction-btn" class="w-full py-2 bg-red-600/80 hover:bg-red-500/80 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed">Fiction</button>
                        </div>
                        <p id="fact-explanation" class="text-xs text-slate-400 min-h-[40px]"></p>
                    </div>
                    <button data-term="hallucinations" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>
            
            <!-- Card 5: Prompt Engineering -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Prompt Engineering</h2>
                    <div class="flex-grow space-y-3">
                        <p class="text-slate-300 text-sm">The quality of the input (prompt) drastically changes the output.</p>
                        <div>
                             <label class="text-xs text-slate-400">Vague Prompt</label>
                             <div class="flex items-center gap-2">
                                <p class="flex-grow text-sm p-2 bg-slate-900/30 rounded-md">"Write about coffee."</p>
                                <button data-prompt-type="vague" class="prompt-btn text-xs bg-blue-600/80 hover:bg-blue-500/80 p-2 rounded-lg transition-colors">Gen</button>
                             </div>
                        </div>
                        <div>
                             <label class="text-xs text-slate-400">Engineered Prompt</label>
                             <div class="flex items-center gap-2">
                                <p class="flex-grow text-sm p-2 bg-slate-900/30 rounded-md">"Write 3 short, upbeat sentences about the morning ritual of coffee for a marketing campaign."</p>
                                <button data-prompt-type="engineered" class="prompt-btn text-xs bg-blue-600/80 hover:bg-blue-500/80 p-2 rounded-lg transition-colors">Gen</button>
                             </div>
                        </div>
                        <div id="prompt-output-box" class="text-sm bg-slate-900/30 p-3 rounded-lg min-h-[80px] text-slate-300 transition-all">Click 'Gen' to see a response.</div>
                    </div>
                    <button data-term="prompt-engineering" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card 6: RAG -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">RAG</h2>
                    <div class="flex-grow">
                        <p class="text-slate-300 text-sm mb-4">Retrieval-Augmented Generation grounds AI answers in factual data.</p>
                        <!-- RAG Diagram -->
                        <svg class="w-full h-full" viewBox="0 0 150 100">
                             <!-- Elements -->
                             <g class="text-center" transform="translate(15, 10)">
                                 <rect width="40" height="20" rx="5" fill="#1e293b"/>
                                 <text x="20" y="13" font-size="6" text-anchor="middle" fill="#f1f5f9">Question</text>
                             </g>
                              <g transform="translate(95, 10)">
                                 <rect width="40" height="20" rx="5" fill="#1e293b"/>
                                 <text x="20" y="13" font-size="6" text-anchor="middle" fill="#f1f5f9">Knowledge</text>
                             </g>
                             <g transform="translate(15, 70)">
                                 <rect width="40" height="20" rx="5" fill="#1e293b"/>
                                 <text x="20" y="13" font-size="6" text-anchor="middle" fill="#f1f5f9">LLM</text>
                             </g>
                             <g transform="translate(95, 70)">
                                 <rect width="40" height="20" rx="5" fill="#10b981"/>
                                 <text x="20" y="13" font-size="6" text-anchor="middle" fill="#000">Factual Answer</text>
                             </g>

                            <!-- Flow Lines -->
                            <path class="flow-line" d="M 35 30 V 70" stroke="#475569" stroke-width="1" fill="none"/>
                            <path class="flow-line" d="M 55 20 H 95" stroke="#475569" stroke-width="1" fill="none" style="animation-delay: -2s;"/>
                            <path class="flow-line" d="M 115 30 V 70" stroke="#475569" stroke-width="1" fill="none" style="animation-delay: -4s;"/>
                            <path class="flow-line" d="M 55 80 H 95" stroke="#475569" stroke-width="1" fill="none" style="animation-delay: -6s;"/>
                        </svg>
                    </div>
                    <button data-term="rag" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card 7: Transformer Architecture -->
             <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Transformer</h2>
                    <div class="flex-grow">
                        <p class="text-slate-300 text-sm mb-4">The modern foundation of most LLMs, using Encoder-Decoder stacks.</p>
                        <!-- Transformer Diagram -->
                        <svg class="w-full h-full" viewBox="0 0 100 80">
                            <!-- Stacks -->
                            <g id="encoder-stack">
                                <rect x="10" y="25" width="25" height="30" rx="3" fill="#3b82f6"/>
                                <rect x="12" y="27" width="21" height="26" rx="2" fill="none" stroke="#1e3a8a" stroke-width="1.5" stroke-dasharray="3"/>
                                <text x="22.5" y="43" font-size="6" text-anchor="middle" fill="white">Encoder</text>
                            </g>
                            <g id="decoder-stack">
                                <rect x="65" y="25" width="25" height="30" rx="3" fill="#8b5cf6"/>
                                <rect x="67" y="27" width="21" height="26" rx="2" fill="none" stroke="#5b21b6" stroke-width="1.5" stroke-dasharray="3"/>
                                <text x="77.5" y="43" font-size="6" text-anchor="middle" fill="white">Decoder</text>
                            </g>
                            <!-- Flow -->
                            <text x="5" y="15" font-size="5" fill="#f1f5f9">Input</text>
                            <path class="flow-line" d="M 5 20 V 40 H 10" stroke="#94a3b8" stroke-width="1" fill="none"/>
                            <path class="flow-line" d="M 35 40 H 65" stroke="#94a3b8" stroke-width="1.5" fill="none" style="animation-delay: -2s;"/>
                            <path class="flow-line" d="M 90 40 H 95 V 60" stroke="#94a3b8" stroke-width="1" fill="none" style="animation-delay: -4s;"/>
                            <text x="95" y="68" font-size="5" text-anchor="end" fill="#f1f5f9">Output</text>
                        </svg>
                    </div>
                    <button data-term="transformer" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>

            <!-- Card 8: Attention Mechanism -->
            <div class="card-container">
                <div class="card-content flex flex-col">
                    <h2 class="text-2xl font-bold mb-4">Attention</h2>
                    <div class="flex-grow">
                        <p class="text-slate-300 text-sm mb-4">Allows the model to focus on relevant parts of the input. Hover over 'it'.</p>
                        <div class="bg-slate-900/30 p-4 rounded-lg text-lg leading-relaxed">
                            <p id="attention-sentence">
                                <!-- Sentence will be populated by JS -->
                            </p>
                        </div>
                    </div>
                    <button data-term="attention" class="learn-more-btn mt-6 w-full text-sm font-semibold bg-slate-700/50 hover:bg-slate-600/50 py-2 rounded-lg transition-colors">Learn More</button>
                </div>
            </div>
        </main>
    </div>

    <!-- MODAL POP-UP -->
    <div id="modal-overlay" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50 transition-opacity duration-300 opacity-0 pointer-events-none">
        <div id="modal-content" class="bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl max-w-2xl w-full p-8 relative transform scale-95 transition-all duration-300">
            <button id="modal-close-btn" class="absolute top-4 right-4 text-slate-400 hover:text-white transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            <h3 id="modal-title" class="text-3xl font-bold text-gradient mb-4"></h3>
            <div class="space-y-6">
                <div>
                    <h4 class="font-semibold text-lg mb-2 text-slate-200">Deep Dive</h4>
                    <p id="modal-deep-dive" class="text-slate-300 leading-relaxed"></p>
                </div>
                 <div>
                    <h4 class="font-semibold text-lg mb-2 text-slate-200">Analogy</h4>
                    <p id="modal-analogy" class="text-slate-300 leading-relaxed border-l-2 border-blue-500 pl-4 italic"></p>
                </div>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- DATA STORE FOR MODAL CONTENT ---
            const modalData = {
                rlhf: {
                    title: 'RLHF (Reinforcement Learning from Human Feedback)',
                    deepDive: 'RLHF is a crucial training step to make AI models safer and more aligned with human values. After initial training, the model generates multiple responses to a prompt. Human reviewers then rank these responses from best to worst. This feedback is used to train a "reward model," which learns to predict which types of answers humans prefer. The main AI is then fine-tuned using this reward model to maximize its score, effectively learning to be more helpful and harmless.',
                    analogy: 'It\'s like teaching a dog a new trick. You say "Sit," and the dog might do a few different things. When it finally sits, you give it a treat (a reward). The dog quickly learns that the "sitting" action leads to positive feedback and becomes more likely to do it again. The human feedback is the treat that guides the AI toward better behavior.'
                },
                overfitting: {
                    title: 'Overfitting',
                    deepDive: 'Overfitting is a common problem in machine learning where a model learns the training data too precisely, including its noise and random fluctuations. This results in a model that performs exceptionally well on the data it was trained on, but fails to generalize its knowledge to new, unseen data.',
                    analogy: 'Imagine a student studying for a test by memorizing the exact questions and answers from a single practice exam. They would ace that specific exam but would likely fail the real test, which has different questions. A well-trained student, however, learns the underlying concepts and can solve any problem on the topic, not just the ones they\'ve seen before.'
                },
                multimodality: {
                    title: 'Multimodality',
                    deepDive: 'A multimodal AI is a model capable of processing and understanding information from multiple data types‚Äîor "modalities"‚Äîsimultaneously. This includes text, images, audio, video, and more. By integrating these different streams of information, the AI can develop a more holistic and contextually rich understanding of a concept.',
                    analogy: 'When you visit a beach, you don\'t just see the ocean (vision). You also hear the waves (audio), feel the sand (touch), and read the signs (text). Your brain combines all these inputs for a complete experience. A multimodal AI does the same thing, weaving together different data types to form a much richer understanding than it could from any single one.'
                },
                agi: {
                    title: 'AGI (Artificial General Intelligence)',
                    deepDive: 'AGI is a theoretical form of AI that possesses the ability to understand, learn, and apply its intelligence to solve any intellectual task that a human being can. Unlike the "Narrow AI" of today, which is designed for specific tasks like playing chess or translating language, AGI would have flexible, general cognitive abilities.',
                    analogy: 'Today\'s AI is like having a toolbox full of specialized tools: a hammer, a screwdriver, a wrench. Each is excellent at its one job but useless for others. AGI would be like the ultimate multi-tool, or even a skilled craftsperson, who can analyze a new problem and use a combination of skills and reasoning to figure out a solution on the fly, just like a human.'
                },
                'neural-network': {
                    title: 'Neural Network',
                    deepDive: 'A neural network is a computing system inspired by the biological neural networks that constitute animal brains. It consists of multiple layers of interconnected nodes, or "neurons": an input layer, one or more hidden layers, and an output layer. Each connection has a weight that is adjusted during training, allowing the network to learn complex patterns from data.',
                    analogy: 'Think of it as a team of very specialized, simple workers. The first row sees the problem (input), and each worker passes their observation to several workers in the next row (hidden layer). Each of these workers only listens to a few from the previous row, does a simple calculation, and passes their result on. After several rows, the final workers (output) collectively produce the answer.'
                },
                llm: {
                    title: 'Large Language Model (LLM)',
                    deepDive: 'An LLM is a type of neural network that has been trained on a massive amount of text data. They are distinguished by their enormous size (billions of parameters or "weights") and their ability to understand, generate, summarize, and translate human language with remarkable fluency. Architectures like the Transformer are key to their success.',
                    analogy: 'Imagine someone who has read almost every book, article, and website on the internet. They haven\'t memorized everything, but they\'ve learned the patterns, styles, and relationships between words and concepts so well that they can hold a coherent conversation, write an essay, or answer questions on almost any topic.'
                },
                'fine-tuning': {
                    title: 'Fine-Tuning',
                    deepDive: 'Fine-tuning is the process of taking a pre-trained model (like a general LLM) and training it further on a smaller, specific dataset. This adapts the model to excel at a particular task, such as medical diagnosis or legal contract analysis, by refining its general knowledge with specialized expertise.',
                    analogy: 'It\'s like a brilliant, classically trained chef (the general model) who knows all the core cooking techniques. To open a high-end sushi restaurant, they would then go and study for months under a sushi master (fine-tuning). They aren\'t learning to cook from scratch; they are adapting their vast existing skills to a highly specialized domain.'
                },
                'generative-ai': {
                    title: 'Generative AI',
                    deepDive: 'Generative AI is a broad category of artificial intelligence that can create new, original content. Unlike analytical AI, which classifies or predicts based on existing data, generative models produce novel outputs, such as images, music, code, and text, that did not previously exist.',
                    analogy: 'Think of the difference between an art critic and an artist. The critic (analytical AI) can expertly identify the style, period, and quality of a painting. The artist (Generative AI) can take a blank canvas and a prompt like "a sad robot in a rainy city" and create a completely new piece of art.'
                },
                bias: {
                    title: 'Bias',
                    deepDive: 'AI bias occurs when a model produces systematically prejudiced results due to erroneous assumptions in the machine learning process. This most often stems from the training data, which may reflect existing human biases related to race, gender, age, or other demographics. If not addressed, AI can perpetuate and even amplify harmful stereotypes.',
                    analogy: 'If you only ever show a child pictures of red apples, they will learn that "apple" means "a red, round fruit." When you then show them a green Granny Smith, they might fail to identify it as an apple. The AI is the child, and the biased data is its limited experience, leading it to form an incomplete and inaccurate worldview.'
                },
                tokens: {
                    title: 'Tokens',
                    deepDive: 'In Natural Language Processing (NLP), a token is a single unit of text, such as a word, part of a word (subword), or punctuation mark. The process of breaking down text into these units is called tokenization. It\'s the foundational step for any language model to understand and process human language, standardizing the input for analysis.',
                    analogy: 'Think of tokens like LEGO bricks. You can\'t build a complex spaceship out of a single, solid block of plastic. You first need to break it down into individual, standardized bricks (tokens). The model then learns how to assemble these bricks into meaningful structures (sentences and ideas).'
                },
                weights: {
                    title: 'Weights',
                    deepDive: 'In a neural network, weights are numerical values that represent the strength and importance of the connection between neurons. During the training process, the model adjusts these weights to minimize error. A higher weight means that the input from one neuron has a stronger influence on the next neuron\'s output.',
                    analogy: 'Imagine a group of friends trying to decide where to eat. Each friend\'s vote (input) has a certain "weight" based on how much you trust their food taste. Your foodie friend\'s vote has a high weight, while your friend who only eats chicken nuggets has a low weight. The final decision (output) is a weighted combination of all votes.'
                },
                embeddings: {
                    title: 'Embeddings',
                    deepDive: 'Word embeddings are numerical vector representations of words. They capture the semantic meaning and relationships between words, allowing models to understand context. Words with similar meanings are located closer to each other in this multi-dimensional "vector space". This allows for mathematical operations on words, like the famous `King - Man + Woman ‚âà Queen`.',
                    analogy: 'Think of embeddings as assigning a unique GPS coordinate to every word in a language. Words like "cat" and "kitten" would be close neighbors on the map. "Paris," "France," and "Rome," "Italy" would show a similar relationship in their coordinates. You can calculate the "vector" (direction and distance) from Paris to France and apply it to Rome to find Italy.'
                },
                hallucinations: {
                    title: 'Hallucinations',
                    deepDive: 'An AI hallucination is when a model generates text that is factually incorrect, nonsensical, or not grounded in its training data, yet presents it as factual. This happens because the model is fundamentally a pattern-matching system optimized to generate plausible sequences of text, not to verify truth.',
                    analogy: 'It\'s like a student who has read hundreds of books but hasn\'t fully understood them. When asked a question, they might confidently mix up facts, characters, and plot points from different books to create an answer that sounds convincing and has the right structure, but is ultimately a work of fiction.'
                },
                'prompt-engineering': {
                    title: 'Prompt Engineering',
                    deepDive: 'Prompt engineering is the art and science of designing effective inputs (prompts) to guide a language model toward a desired output. It involves carefully crafting questions, instructions, and providing context or examples to improve the quality, relevance, and accuracy of the model\'s response.',
                    analogy: 'It\'s like being a skilled director working with an improvisational actor. A vague direction like "Act sad" might get a mediocre performance. But a detailed prompt like "You just lost your keys, you\'re late for a flight, and it\'s starting to rain. Show me that frustration and despair" will yield a much more specific and powerful result.'
                },
                rag: {
                    title: 'Retrieval-Augmented Generation (RAG)',
                    deepDive: 'RAG is a technique that enhances the accuracy and reliability of LLMs by grounding them in external knowledge. Before generating an answer, the system first retrieves relevant information from a trusted knowledge base (like company documents or a specific dataset). This information is then given to the LLM as context along with the user\'s question, helping it to generate more factual and up-to-date responses.',
                    analogy: 'Imagine an open-book exam. A standard LLM is like a student answering from memory alone‚Äîthey might misremember details. A RAG-powered LLM is like a student who first looks up the relevant chapter in the textbook (retrieval) and then uses that information to write their answer (generation). The result is far more accurate.'
                },
                transformer: {
                    title: 'Transformer Architecture',
                    deepDive: 'The Transformer is a neural network architecture that has become the de facto standard for NLP tasks. Introduced in the paper "Attention Is All You Need," its key innovation is the attention mechanism, which allows it to weigh the importance of different words in the input when processing and generating text. It consists of an Encoder (to understand the input) and a Decoder (to generate the output).',
                    analogy: 'Think of it as a highly efficient translation team. The Encoder reads the entire original sentence at once, creating a rich, context-aware understanding of every word. It then passes this complete understanding to the Decoder, which generates the translated sentence, paying "attention" to the most relevant parts of the original understanding for each word it produces.'
                },
                attention: {
                    title: 'Attention Mechanism',
                    deepDive: 'The attention mechanism allows a model to dynamically focus on the most relevant parts of the input sequence when producing a specific part of the output. For each word it generates, it can "look back" at the input and assign different "attention scores" to each input word, giving more weight to the ones that are most important for the current context.',
                    analogy: 'When you read the sentence "The cat chased the mouse because it was fast," your brain instantly knows "it" refers to the cat. The attention mechanism does the same thing. When the model processes the word "it," attention allows it to focus heavily on "cat" and "mouse," and determines that "cat" is the more likely antecedent based on the surrounding context.'
                }
            };
            
            // --- INITIALIZATION FUNCTIONS FOR EACH CARD ---

            function initRlhfCard() {
                const sentence = document.getElementById('rlhf-sentence');
                const words = sentence.querySelectorAll('.rlhf-word');
                const wordMap = {};
                words.forEach(w => wordMap[w.textContent] = w);

                document.querySelectorAll('.rlhf-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const word = btn.dataset.word;
                        const wordEl = wordMap[word];
                        if (wordEl) {
                            const animationClass = btn.textContent.includes('üëç') ? 'rlhf-reward' : 'rlhf-punish';
                            wordEl.classList.add(animationClass);
                            setTimeout(() => wordEl.classList.remove(animationClass), 500);
                        }
                    });
                });
            }
            
            function initOverfittingCard() {
                const goodFitLine = document.getElementById('good-fit-line');
                const overfitLine = document.getElementById('overfit-line');
                document.querySelectorAll('.overfit-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const showId = btn.dataset.show;
                        if (showId === 'good-fit-line') {
                            goodFitLine.style.opacity = '1';
                            overfitLine.style.opacity = '0';
                        } else {
                            goodFitLine.style.opacity = '0';
                            overfitLine.style.opacity = '1';
                        }
                    });
                });
            }

            function initMultimodalCard() {
                const btn = document.getElementById('multimodal-btn');
                const output = document.getElementById('multi-output');
                const brain = document.getElementById('multi-brain');
                btn.addEventListener('click', () => {
                    brain.style.transform = 'scale(1.2)';
                    setTimeout(() => {
                        brain.style.transform = 'scale(1)';
                        output.classList.remove('opacity-0');
                    }, 500);
                    setTimeout(() => output.classList.add('opacity-0'), 2500);
                });
            }

            function initAgiCard() {
                const slider = document.getElementById('agi-slider');
                const brain = document.getElementById('agi-brain');
                slider.addEventListener('input', () => {
                    const value = slider.value;
                    const glowSize = value * 20;
                    const opacity = value > 0.5 ? (value - 0.5) * 2 : 0;
                    brain.style.filter = `drop-shadow(0 0 ${glowSize}px rgba(255, 255, 255, ${opacity}))`;
                });
            }


            function initFineTuningCard() {
                const btn = document.getElementById('fine-tune-btn');
                const circle = document.getElementById('fine-tune-circle');
                btn.addEventListener('click', () => {
                    circle.classList.add('focused');
                    setTimeout(() => circle.classList.remove('focused'), 1500);
                });
            }

            function initGenerativeAICard() {
                const btn = document.getElementById('generate-ai-btn');
                const outputs = document.getElementById('gen-outputs');
                btn.addEventListener('click', () => {
                    outputs.classList.remove('opacity-0');
                    setTimeout(() => outputs.classList.add('opacity-0'), 2000);
                });
            }

            function initBiasCard() {
                const buttons = document.querySelectorAll('.bias-btn');
                const feedbackEl = document.getElementById('bias-feedback');
                const explanationEl = document.getElementById('bias-explanation');

                const handleAnswer = (isCorrect, clickedBtn) => {
                    buttons.forEach(b => b.disabled = true);
                    
                    if (isCorrect) {
                        feedbackEl.textContent = 'Likely Correct';
                        feedbackEl.className = 'text-center font-bold h-6 text-green-400';
                        clickedBtn.classList.add('bg-green-600/80');
                    } else {
                        feedbackEl.textContent = 'Unlikely';
                        feedbackEl.className = 'text-center font-bold h-6 text-red-400';
                         clickedBtn.classList.add('bg-red-600/80');
                    }

                    explanationEl.textContent = 'Because the AI learned from biased data, it would likely reproduce that bias, generating an image of a man. This is a key challenge in AI ethics.';
                    
                    setTimeout(() => {
                        buttons.forEach(b => {
                            b.disabled = false;
                            b.classList.remove('bg-green-600/80', 'bg-red-600/80');
                        });
                        feedbackEl.textContent = '';
                        explanationEl.textContent = '';
                    }, 5000);
                };

                buttons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        handleAnswer(btn.dataset.correct === 'true', btn);
                    });
                });
            }


            function initTokensCard() {
                const input = document.getElementById('token-input');
                const output = document.getElementById('token-output');

                const updateTokens = () => {
                    output.innerHTML = '';
                    const text = input.value.trim();
                    if (!text) return;
                    const tokens = text.match(/[\w']+|[.,!?;]/g) || []; 
                    tokens.forEach(token => {
                        const tokenEl = document.createElement('span');
                        tokenEl.textContent = token;
                        tokenEl.className = 'bg-slate-700 text-slate-200 text-xs font-medium px-2.5 py-1 rounded-full';
                        output.appendChild(tokenEl);
                    });
                };

                input.addEventListener('input', updateTokens);
                updateTokens(); // Initial call
            }

            function initWeightsCard() {
                const slider1 = document.getElementById('weight-slider-1');
                const slider2 = document.getElementById('weight-slider-2');
                const line1 = document.getElementById('weight-line-1');
                const line2 = document.getElementById('weight-line-2');
                const outputNeuron = document.getElementById('output-neuron');
                const activationValue = document.getElementById('activation-value');

                const updateWeights = () => {
                    const v1 = parseFloat(slider1.value);
                    const v2 = parseFloat(slider2.value);
                    const average = (v1 + v2) / 2;

                    line1.style.strokeWidth = 1 + v1 * 5;
                    line2.style.strokeWidth = 1 + v2 * 5;
                    
                    outputNeuron.style.fillOpacity = 0.2 + average * 0.8;
                    activationValue.textContent = average.toFixed(2);

                    if (average > 0.75) {
                        outputNeuron.classList.add('firing');
                    } else {
                        outputNeuron.classList.remove('firing');
                    }
                };
                
                slider1.addEventListener('input', updateWeights);
                slider2.addEventListener('input', updateWeights);
                updateWeights(); // Initial call
            }
            
            function initEmbeddingsCard() {
                const showBtn = document.getElementById('show-analogy-btn');
                const resetBtn = document.getElementById('reset-analogy-btn');
                const queenCircle = document.getElementById('queen');
                const queenText = document.getElementById('queen-text');
                const vecKingMan = document.getElementById('vec-king-man');
                const vecWomanQueen = document.getElementById('vec-woman-queen');

                const resetState = () => {
                    queenCircle.setAttribute('cx', '35');
                    queenCircle.setAttribute('cy', '35');
                    queenText.setAttribute('x', '35');
                    queenText.setAttribute('y', '30');
                    queenText.textContent = '?';
                    vecKingMan.style.opacity = '0';
                    vecWomanQueen.style.opacity = '0';
                    showBtn.disabled = false;
                };

                const showAnalogy = () => {
                    showBtn.disabled = true;
                    resetState(); // ensure clean state before animating
                    
                    vecKingMan.style.transition = 'opacity 0.5s ease-in';
                    vecWomanQueen.style.transition = 'opacity 0.5s ease-in 0.5s';
                    vecKingMan.style.opacity = '1';
                    vecWomanQueen.style.opacity = '1';

                    setTimeout(() => {
                        queenCircle.setAttribute('cx', '75');
                        queenCircle.setAttribute('cy', '25');
                        queenText.setAttribute('x', '75');
                        queenText.setAttribute('y', '20');
                        queenText.textContent = 'Queen';
                    }, 1000);
                };

                showBtn.addEventListener('click', showAnalogy);
                resetBtn.addEventListener('click', resetState);
            }
            
            function initHallucinationsCard() {
                const factBtn = document.getElementById('fact-btn');
                const fictionBtn = document.getElementById('fiction-btn');
                const feedbackEl = document.getElementById('fact-feedback');
                const explanationEl = document.getElementById('fact-explanation');

                const handleAnswer = (isCorrect) => {
                    factBtn.disabled = true;
                    fictionBtn.disabled = true;
                    
                    if (isCorrect) {
                        feedbackEl.textContent = 'Correct!';
                        feedbackEl.className = 'text-center font-bold h-6 text-green-400';
                    } else {
                        feedbackEl.textContent = 'Incorrect!';
                        feedbackEl.className = 'text-center font-bold h-6 text-red-400';
                    }

                    explanationEl.textContent = 'The USSR launched Laika in 1957. The statement correctly identifies the dog and year, but attributes it to the wrong country‚Äîa classic, subtle hallucination.';
                    
                    setTimeout(() => {
                        factBtn.disabled = false;
                        fictionBtn.disabled = false;
                        feedbackEl.textContent = '';
                        explanationEl.textContent = '';
                    }, 5000);
                };

                factBtn.addEventListener('click', () => handleAnswer(false));
                fictionBtn.addEventListener('click', () => handleAnswer(true));
            }

            function initPromptCard() {
                const promptBtns = document.querySelectorAll('.prompt-btn');
                const outputBox = document.getElementById('prompt-output-box');
                const vagueResponse = "Coffee is a popular beverage made from roasted coffee beans. It contains caffeine and can be served hot or cold in many different ways.";
                const engineeredResponse = "Kickstart your day with a burst of inspiration! Our rich, aromatic coffee transforms your morning into a moment of pure bliss. Feel the warmth, seize the day!";

                const typewriter = (text) => {
                    outputBox.innerHTML = '';
                    let i = 0;
                    outputBox.style.animation = 'none';
                    outputBox.offsetHeight; /* trigger reflow */
                    outputBox.style.animation = null;
                    outputBox.className = "text-sm bg-slate-900/30 p-3 rounded-lg min-h-[80px] text-slate-300 transition-all";
                    
                    function type() {
                        if (i < text.length) {
                            outputBox.textContent += text.charAt(i);
                            i++;
                            setTimeout(type, 25);
                        }
                    }
                    type();
                };

                promptBtns.forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const type = e.target.dataset.promptType;
                        if (type === 'vague') {
                            typewriter(vagueResponse);
                        } else {
                            typewriter(engineeredResponse);
                        }
                    });
                });
            }

            function initAttentionCard() {
                const sentenceContainer = document.getElementById('attention-sentence');
                const text = "The cat chased the mouse because it was fast.";
                const words = text.split(' ');

                words.forEach((word, index) => {
                    const span = document.createElement('span');
                    span.textContent = word + ' ';
                    if (word === 'it') {
                        span.dataset.attentionTarget = 'cat';
                        span.classList.add('attention-highlight');
                    }
                    if (word === 'cat') {
                        span.id = 'attention-cat';
                    }
                    sentenceContainer.appendChild(span);
                });

                sentenceContainer.addEventListener('mouseover', (e) => {
                    if (e.target.dataset.attentionTarget) {
                        const targetId = e.target.dataset.attentionTarget;
                        const targetEl = document.getElementById(`attention-${targetId}`);
                        if (targetEl) {
                           targetEl.classList.add('attention-highlight');
                        }
                    }
                });
                sentenceContainer.addEventListener('mouseout', (e) => {
                    if (e.target.dataset.attentionTarget) {
                        const targetId = e.target.dataset.attentionTarget;
                        const targetEl = document.getElementById(`attention-${targetId}`);
                         if (targetEl) {
                           targetEl.classList.remove('attention-highlight');
                        }
                    }
                });
            }

            function initModal() {
                const overlay = document.getElementById('modal-overlay');
                const content = document.getElementById('modal-content');
                const closeBtn = document.getElementById('modal-close-btn');
                const learnMoreBtns = document.querySelectorAll('.learn-more-btn');
                
                const titleEl = document.getElementById('modal-title');
                const deepDiveEl = document.getElementById('modal-deep-dive');
                const analogyEl = document.getElementById('modal-analogy');

                const openModal = (term) => {
                    const data = modalData[term];
                    if (!data) return;

                    titleEl.textContent = data.title;
                    deepDiveEl.textContent = data.deepDive;
                    analogyEl.textContent = data.analogy;

                    overlay.classList.remove('opacity-0', 'pointer-events-none');
                    content.classList.remove('scale-95');
                };

                const closeModal = () => {
                    overlay.classList.add('opacity-0', 'pointer-events-none');
                    content.classList.add('scale-95');
                };

                learnMoreBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        openModal(btn.dataset.term);
                    });
                });

                closeBtn.addEventListener('click', closeModal);
                overlay.addEventListener('click', (e) => {
                    if (e.target === overlay) {
                        closeModal();
                    }
                });
            }


            // --- RUN ALL INITIALIZATIONS ---
            initRlhfCard();
            initOverfittingCard();
            initMultimodalCard();
            initAgiCard();
            initFineTuningCard();
            initGenerativeAICard();
            initBiasCard();
            initTokensCard();
            initWeightsCard();
            initEmbeddingsCard();
            initHallucinationsCard();
            initPromptCard();
            initAttentionCard();
            initModal();
        });
    </script>

</body>
</html>
